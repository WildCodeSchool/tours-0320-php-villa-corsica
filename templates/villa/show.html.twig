{% extends 'base.html.twig' %}
{% block title %}Villa{% endblock %}
{% block content %}
<div class="caro">
   <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="/images/{{ villa.poster }}" class="d-block w-100" alt="...">
    </div>
     {% for villa in villa.pictures %}
    <div class="carousel-item">
      <img src="/pictures/{{ villa.photo }}" class="d-block w-100" alt="...">
    </div>
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
 {% if is_granted('ROLE_ADMIN') %}
 <div class="btn_villa">
   <a  class=" btn btn-info btn-lg" href="{{ path('picture_new', {'id': villa.id})}}">Ajouter une nouvelle photo</a>
 </div>
  {% endif %}
   {% if is_granted('ROLE_ADMIN') %}
 <div class="btn_villa">
   <a  class=" btn btn-info btn-lg" href="{{ path('rate_new', {'id': villa.id})}}">Ajouter les tarifs</a>
 </div>
  {% endif %}
</div>
<div id="infosandbooking">
<div id="leftpart">
  <h1 class="villa-title">{{ villa.name }}</h1> 
    <div class="villa_description">
        <h2 class="villa-description1">Description</h2>
        <p>{{ villa.Description }}</p>
    </div>
    <hr>
    <h2>Informations</h2>
        <table class="table">
    <thead>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Nombre de chambres</th>
            <td>{{villa.nbRoom}}</td>
        </tr>
        <tr>
            <th scope="row">Nombre de lits</th>
            <td>{{villa.nbBed}}</td>
        </tr>
        <tr>
            <th scope="row">Salle de bain</th>
            <td>{{villa.nbBathroom}}</td>
        </tr>
        <tr>
            <th scope="row">Capacité</th>
            <td>{{villa.capacity}}</td>
        </tr>
        <tr>
            <th scope="row">Superficie</th>
            <td>{{villa.sqm}}</td>
        </tr>
    </tbody>
    </table>
     <h2>Les tarifs</h2>
    <table class="table">
        <tbody>
       {% for villa in villa.rates  %}
            <tr>
          <td>DU {{ villa.firstPeriod ? villa.firstPeriod|date('Y-m-d') : '' }}</td>
           <td>au  {{ villa.secondPeriod ? villa.secondPeriod|date('Y-m-d') : '' }}</td>
           <td>{{ villa.price }}€</td>
                <td>
       
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5">no records found</td>
            </tr>
        {% endfor %}
           <tr>
                <td >arriver/départ</td>
                <td >samedi</td>
            </tr>
        </tbody>
    </table>
      {% if is_granted('ROLE_ADMIN') %}
     <a class="btn btn-primary btn-lg" href="{{ path('rate_index') }}">List des tarifs</a>
     {% endif %}
</div>
    <div id="rightpart">
        <h2>Disponilibités et réservation</h2>
          <div id="bookingFomr" class="mt-5" >
            {{ form_start(form) }}
                <div class="row">
                   <div class="col">{{ form_row(form.lastname) }}</div>
                    <div class="col">{{ form_row(form.firstname) }}</div>
                    </div>
                    <div class="row">
                    <div class="col">{{ form_row(form.address) }}</div>
                    <div class="col">{{ form_row(form.email) }}</div>
                    </div>
                    <div class="row">
                    <div class="col">{{ form_row(form.adults) }}</div>
                    <div class="col">{{ form_row(form.kids) }}</div>
                    </div>
                    <div class="row">
                    <div class="col">{{ form_row(form.arrive) }}</div>
                    <div class="col">{{ form_row(form.departure) }}</div>
                    </div>
            {{ form_rest(form) }}
                  <div class="form-group">
                     <button class="btn bg-info text-white" >{{ button_label|default('Réserver') }}</button> 
                  </div>
             {{ form_end(form) }}
     </div>
</div>
    </div>
{% endblock %}